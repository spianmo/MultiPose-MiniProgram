"use strict";const e=require("../../common/vendor.js"),t=require("../../pose-detection/index.js"),o=require("../../utils/painter.js"),s=require("../../utils/utils.js"),r=require("../../pose-detection/create_detector.js"),i=require("../../pose-detection/types.js");require("../../pose-detection/movenet/constants.js"),require("../../pose-detection/posenet/calculators/decode_multiple_poses_util.js"),require("../../pose-detection/constants.js"),require("../../pose-detection/posenet/constants.js"),require("../../pose-detection/util.js"),require("../../pose-detection/blazepose_tfjs/detector.js"),require("../../pose-detection/calculators/constants.js"),require("../../pose-detection/calculators/convert_image_to_tensor.js"),require("../../pose-detection/calculators/image_utils.js"),require("../../pose-detection/calculators/is_video.js"),require("../../pose-detection/calculators/keypoints_smoothing.js"),require("../../pose-detection/calculators/keypoints_one_euro_filter.js"),require("../../pose-detection/calculators/one_euro_filter.js"),require("../../pose-detection/calculators/low_pass_filter.js"),require("../../pose-detection/calculators/velocity_filter_utils.js"),require("../../pose-detection/calculators/keypoints_to_normalized_keypoints.js"),require("../../pose-detection/calculators/keypoints_velocity_filter.js"),require("../../pose-detection/calculators/relative_velocity_filter.js"),require("../../pose-detection/calculators/normalized_keypoints_to_keypoints.js"),require("../../pose-detection/calculators/shift_image_value.js"),require("../../pose-detection/blazepose_tfjs/calculators/calculate_alignment_points_rects.js"),require("../../pose-detection/blazepose_tfjs/calculators/detection_to_rect.js"),require("../../pose-detection/blazepose_tfjs/calculators/calculate_landmark_projection.js"),require("../../pose-detection/blazepose_tfjs/calculators/create_ssd_anchors.js"),require("../../pose-detection/blazepose_tfjs/calculators/detector_inference.js"),require("../../pose-detection/blazepose_tfjs/calculators/split_detection_result.js"),require("../../pose-detection/blazepose_tfjs/calculators/landmarks_to_detection.js"),require("../../pose-detection/blazepose_tfjs/calculators/non_max_suppression.js"),require("../../pose-detection/blazepose_tfjs/calculators/refine_landmarks_from_heatmap.js"),require("../../pose-detection/blazepose_tfjs/calculators/remove_detection_letterbox.js"),require("../../pose-detection/blazepose_tfjs/calculators/remove_landmark_letterbox.js"),require("../../pose-detection/blazepose_tfjs/calculators/tensors_to_detections.js"),require("../../pose-detection/blazepose_tfjs/calculators/tensors_to_landmarks.js"),require("../../pose-detection/calculators/sigmoid.js"),require("../../pose-detection/blazepose_tfjs/calculators/transform_rect.js"),require("../../pose-detection/blazepose_tfjs/calculators/visibility_smoothing.js"),require("../../pose-detection/blazepose_tfjs/constants.js"),require("../../pose-detection/blazepose_tfjs/detector_utils.js"),require("../../pose-detection/movenet/detector.js"),require("../../pose-detection/movenet/detector_utils.js"),require("../../pose-detection/posenet/detector.js"),require("../../pose-detection/posenet/calculators/decode_multiple_poses.js"),require("../../pose-detection/posenet/calculators/build_part_with_score_queue.js"),require("../../pose-detection/posenet/calculators/max_heap.js"),require("../../pose-detection/posenet/calculators/decode_single_pose.js"),require("../../pose-detection/posenet/calculators/decode_single_pose_util.js"),require("../../pose-detection/posenet/calculators/flip_poses.js"),require("../../pose-detection/posenet/calculators/scale_poses.js"),require("../../pose-detection/posenet/detector_utils.js"),require("../../pose-detection/posenet/load_utils.js"),Math||c();const c=()=>"./PoseCamera.js",a=e.defineComponent({__name:"index",setup(c){const a=e.ref(null);e.onReady((async()=>{await e.ready();const c=await r.createDetector(i.SupportedModels.MoveNet,{modelType:t.movenet.modelType.SINGLEPOSE_LIGHTNING});console.log("movenet load end");const n=Date.now();c.estimatePoses(s.onePixel,{flipHorizontal:!1}),console.log("movenet warm up",Date.now()-n);const l=new o.Painter;a.value.set({onFrame:(e,t)=>{const{ctx:o,canvas2D:s}=t,r={width:e.width,height:e.height,data:new Uint8Array(e.data)};a.value.drawCanvas2D(e);const i=Date.now(),n=c.estimatePoses(r,{flipHorizontal:!1});console.log("predict cost",Date.now()-i),l.setCtx(o),l.setCanvas2D(s),l.drawResults(n)}})}));const n=()=>{e.unref(a).start()},l=()=>{e.unref(a).stop()};return e.onShow((()=>{console.log("onShow")})),e.onHide((()=>{console.log("onHide")})),(t,o)=>({a:e.o(n),b:e.o(l),c:e.sr(a,"d36a244c-0",{k:"helper"})})}});wx.createPage(a);
